{"ast":null,"code":"import _slicedToArray from\"/home/mitchell/quizmaker/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState}from'react';import FormTemplate from'./form';import{apiHost}from'config';import axios from'axios';var RegistrationForm=function RegistrationForm(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var register=function register(userDetails){axios.post(\"\".concat(apiHost,\"/register\"),userDetails).then(function(){window.location='/login';}).catch(function(){return setError(true);});};var isValid=function isValid(fields){return fields['password'].value===fields['passwordConfirmation'].value;};var fields={firstName:{displayName:\"First Name\",type:\"text\",value:\"\"},lastName:{displayName:\"Last Name\",type:\"text\",value:\"\"},email:{displayName:\"Email\",type:\"email\",value:\"\"},password:{displayName:\"Password\",type:\"password\",value:\"\"},passwordConfirmation:{displayName:\"Confirm Password\",type:\"password\",value:\"\"}};return/*#__PURE__*/_jsx(FormTemplate,{fields:fields,submit:register,validate:isValid,validationErrorMessage:\"The given passwords do not match\",error:error,serverErrorMessage:\"User with given email already exists\",header:\"Sign Up\"});};export default RegistrationForm;","map":{"version":3,"sources":["/home/mitchell/quizmaker/web/src/components/auth/register.js"],"names":["React","useState","FormTemplate","apiHost","axios","RegistrationForm","error","setError","register","userDetails","post","then","window","location","catch","isValid","fields","value","firstName","displayName","type","lastName","email","password","passwordConfirmation"],"mappings":"8LAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,YAAP,KAAyB,QAAzB,CACA,OAASC,OAAT,KAAwB,QAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,eAEDJ,QAAQ,CAAC,KAAD,CAFP,wCAEpBK,KAFoB,eAEbC,QAFa,eAI3B,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,WAAW,CAAI,CAC5BL,KAAK,CAACM,IAAN,WAAcP,OAAd,cAAkCM,WAAlC,EAA+CE,IAA/C,CAAoD,UAAM,CACtDC,MAAM,CAACC,QAAP,CAAkB,QAAlB,CACH,CAFD,EAEGC,KAFH,CAES,iBAAMP,CAAAA,QAAQ,CAAC,IAAD,CAAd,EAFT,EAGH,CAJD,CAMA,GAAMQ,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAC,MAAM,QAAIA,CAAAA,MAAM,CAAC,UAAD,CAAN,CAAmBC,KAAnB,GAA6BD,MAAM,CAAC,sBAAD,CAAN,CAA+BC,KAAhE,EAAtB,CAEA,GAAMD,CAAAA,MAAM,CAAI,CACZE,SAAS,CAAE,CAAEC,WAAW,CAAE,YAAf,CAA6BC,IAAI,CAAE,MAAnC,CAA2CH,KAAK,CAAE,EAAlD,CADC,CAEZI,QAAQ,CAAE,CAAEF,WAAW,CAAE,WAAf,CAA4BC,IAAI,CAAE,MAAlC,CAA0CH,KAAK,CAAE,EAAjD,CAFE,CAGZK,KAAK,CAAE,CAAEH,WAAW,CAAE,OAAf,CAAwBC,IAAI,CAAE,OAA9B,CAAuCH,KAAK,CAAE,EAA9C,CAHK,CAIZM,QAAQ,CAAE,CAAEJ,WAAW,CAAE,UAAf,CAA2BC,IAAI,CAAE,UAAjC,CAA6CH,KAAK,CAAE,EAApD,CAJE,CAKZO,oBAAoB,CAAE,CAAEL,WAAW,CAAE,kBAAf,CAAmCC,IAAI,CAAE,UAAzC,CAAqDH,KAAK,CAAE,EAA5D,CALV,CAAhB,CAQA,mBACI,KAAC,YAAD,EACI,MAAM,CAAED,MADZ,CAEI,MAAM,CAAER,QAFZ,CAGI,QAAQ,CAAEO,OAHd,CAII,sBAAsB,CAAC,kCAJ3B,CAKI,KAAK,CAAET,KALX,CAMI,kBAAkB,CAAC,sCANvB,CAOI,MAAM,CAAC,SAPX,EADJ,CAYH,CAhCD,CAkCA,cAAeD,CAAAA,gBAAf","sourcesContent":["import React, { useState } from 'react';\nimport FormTemplate from './form';\nimport { apiHost } from 'config';\nimport axios from 'axios';\n\nconst RegistrationForm = () => {\n\n    const [error, setError] = useState(false);\n\n    const register = userDetails => {\n        axios.post(`${apiHost}/register`, userDetails).then(() => {\n            window.location = '/login'\n        }).catch(() => setError(true))\n    };\n\n    const isValid = fields => fields['password'].value === fields['passwordConfirmation'].value;\n\n    const fields =  {\n        firstName: { displayName: \"First Name\", type: \"text\", value: \"\" },\n        lastName: { displayName: \"Last Name\", type: \"text\", value: \"\" },\n        email: { displayName: \"Email\", type: \"email\", value: \"\" },\n        password: { displayName: \"Password\", type: \"password\", value: \"\" },\n        passwordConfirmation: { displayName: \"Confirm Password\", type: \"password\", value: \"\" }\n    };\n\n    return (\n        <FormTemplate \n            fields={fields} \n            submit={register}  \n            validate={isValid}\n            validationErrorMessage=\"The given passwords do not match\"\n            error={error}\n            serverErrorMessage=\"User with given email already exists\"\n            header=\"Sign Up\"\n        />\n    )\n\n};\n\nexport default RegistrationForm;"]},"metadata":{},"sourceType":"module"}